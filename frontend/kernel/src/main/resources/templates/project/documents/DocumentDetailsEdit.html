<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head></head>

<body>

<div th:fragment="documentDetailsEdit" id="documentDetailsEdit">
  <div class="panel panel-default">

    <div class="panel-heading">
      <div class="panel-title">编辑文档 &nbsp;
        <img ng-if="documentDetails.docType === docTypes.MD.value" ng-src="/img/attachment-icon/md-66x40.png"
             class="markdown-img"/>
        <i ng-if="documentDetails.docType === docTypes.HTML.value" class="fa fa-html5 fa-lg"></i>
        <i ng-if="documentDetails.docType === docTypes.TXT.value" class="fa fa-file-text fa-lg"></i>
      </div>

    </div>

    <div class="panel-body">
      <form id="wikiDetailsForm" name="wikiDetailsForm" role="form" class="form">

        <div class="form-group">
          <label class="control-label">文档标题：</label>
          <input type="text" class="hidden" name="id" ng-model="documentDetails.id"/>

          <div class="input-group">
            <input type="text" name="title" class="form-control" ng-model="updatedWikiTitle" placeholder="文档标题"
                   required="" ng-minlength="1" ng-maxlength="100" autofocus="true"/>

            <span class="input-group-btn">
              <button ng-if="documentDetails.docType === docTypes.MD.value"
                      class="btn btn-success doc-type-button" tabindex="-1">.md
              </button>
              <button ng-if="documentDetails.docType === docTypes.HTML.value"
                      class="btn btn-success doc-type-button" tabindex="-1">.html
              </button>
              <button ng-if="documentDetails.docType === docTypes.TXT.value"
                      class="btn btn-success doc-type-button" tabindex="-1">.txt
              </button>
            </span>

          </div>


          <div ng-show="wikiDetailsForm.$dirty &amp;&amp; wikiDetailsForm.title.$error.required "
               class="alert alert-danger" role="alert">文档名不能为空
          </div>
          <div ng-show="wikiDetailsForm.title.$error.maxlength || wikiDetailsForm.title.$error.minlength"
               class="alert alert-danger" role="alert">文档名长度必须在1-100之间
          </div>
        </div>

        <div class="form-group">
          <label class="control-label">文档内容：</label>

          <textarea id="wikiDetailsContentEdit" class="form-control"></textarea>
        </div>

        <div class="form-group">
          <button type="button" class="btn btn-primary" ng-click="savewikiDetailsForm()"
                  ng-disabled="wikiDetailsForm.$invalid">编辑文档
          </button>
          <a class="btn btn-default" ng-click="cancelEdit()">返回</a>

          <div ng-show="stat =='error'" class="alert alert-danger" role="alert">{{msg}}</div>
        </div>

      </form>
    </div>


  </div>
</div>


</body>

</html>
